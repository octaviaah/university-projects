#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/wait.h>

int main(int argc, char** argv)
{
        int i, j;
        for (i=0; i<3; i++)
        {
                if (fork()==0)
                {
                        printf("%d %d\n", getpid(), getppid());
                        for(j=0; j<3; j++)
                                if (fork()==0)
                                {
                                        printf("%d %d\n", getpid(), getppid());
                                        exit(0);
                                }
                        for (j=0; j<3; j++)
                                wait(0);
                        exit(0);
                }
        }
        for (i=0; i<3; i++)
                wait(0);
        return 0;
}